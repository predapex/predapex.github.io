<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<title>Interactive Pump Diagram</title>
<style>
    .valve {
      cursor: pointer;
      transition: fill 0.3s;
    }
    .open { fill: green; }
    .closed { fill: red; }

    .flow-line {
      stroke: lightblue;
      stroke-width: 4;
      stroke-dasharray: 6;
      opacity: 0.2;
      transition: opacity 0.3s;
    }
    .flow-active { opacity: 1; }
    .label {
      font-size: 14px;
      text-anchor: middle;
    }
    .pipe, .manifold {
      stroke: #555;
      stroke-width: 8;
    }
    .pipe {
      stroke-width: 6;
    }
  </style>
</head>
<body>
<h2 style="text-align: center;">Interactive Pump Diagram</h2>
<div style="text-align:center;">
<button onclick="togglePump()">Pump: <span id="pumpState">OFF</span></button>
<button onclick="resetValves()">Reset Valves</button>
</div>
<svg height="400" width="800"><line class="flow-line" id="flow_to4" x1="630" x2="600" y1="265" y2="265"></line><line class="flow-line" id="flow_to3" x1="630" x2="600" y1="215" y2="215"></line><line class="flow-line" id="flow_to2" x1="630" x2="600" y1="165" y2="165"></line><line class="flow-line" id="flow_to1" x1="630" x2="600" y1="115" y2="115"></line><line class="flow-line" id="flow_from4" x1="140" x2="200" y1="265" y2="265"></line><line class="flow-line" id="flow_from3" x1="140" x2="200" y1="215" y2="215"></line><line class="flow-line" id="flow_from2" x1="140" x2="200" y1="165" y2="165"></line><line class="flow-line" id="flow_from1" x1="140" x2="200" y1="115" y2="115"></line>
<!-- Labels -->
<text x="120" y="80">From Tanks</text>
<text x="680" y="80">To Tanks</text>
<text x="200" y="350">Suction</text>
<text x="600" y="350">Return</text>
<!-- Pump -->
<circle cx="400" cy="200" fill="gray" id="pump" r="30"></circle>
<text class="label" fill="white" x="400" y="205">Pump</text>
<!-- Left Valves -->
<rect class="valve closed" height="30" id="from1" onclick="toggleValve('from1')" width="30" x="140" y="100"></rect>
<rect class="valve closed" height="30" id="from2" onclick="toggleValve('from2')" width="30" x="140" y="150"></rect>
<rect class="valve closed" height="30" id="from3" onclick="toggleValve('from3')" width="30" x="140" y="200"></rect>
<rect class="valve closed" height="30" id="from4" onclick="toggleValve('from4')" width="30" x="140" y="250"></rect>
<!-- Right Valves -->
<rect class="valve closed" height="30" id="to1" onclick="toggleValve('to1')" width="30" x="630" y="100"></rect>
<rect class="valve closed" height="30" id="to2" onclick="toggleValve('to2')" width="30" x="630" y="150"></rect>
<rect class="valve closed" height="30" id="to3" onclick="toggleValve('to3')" width="30" x="630" y="200"></rect>
<rect class="valve closed" height="30" id="to4" onclick="toggleValve('to4')" width="30" x="630" y="250"></rect>
<!-- Manifolds BETWEEN pump and valves -->
<line class="manifold" x1="200" x2="200" y1="115" y2="265"></line>
<line class="manifold" x1="600" x2="600" y1="115" y2="265"></line>
<!-- Pipes from valves to manifold -->
<line class="pipe" x1="170" x2="200" y1="115" y2="115"></line>
<line class="pipe" x1="170" x2="200" y1="165" y2="165"></line>
<line class="pipe" x1="170" x2="200" y1="215" y2="215"></line>
<line class="pipe" x1="170" x2="200" y1="265" y2="265"></line>
<line class="pipe" x1="630" x2="600" y1="115" y2="115"></line>
<line class="pipe" x1="630" x2="600" y1="165" y2="165"></line>
<line class="pipe" x1="630" x2="600" y1="215" y2="215"></line>
<line class="pipe" x1="630" x2="600" y1="265" y2="265"></line>
<!-- Pipes from manifold to pump -->
<line class="pipe" x1="200" x2="370" y1="190" y2="200"></line>
<line class="pipe" x1="600" x2="430" y1="190" y2="200"></line>
<text class="label" x="155" y="120">1</text><text class="label" x="155" y="170">2</text><text class="label" x="155" y="220">3</text><text class="label" x="155" y="270">4</text><text class="label" x="645" y="120">1</text><text class="label" x="645" y="170">2</text><text class="label" x="645" y="220">3</text><text class="label" x="645" y="270">4</text></svg>
<script>
    let pumpOn = false;

    function toggleValve(id) {
      const valve = document.getElementById(id);
      if (valve.classList.contains("closed")) {
        valve.classList.remove("closed");
        valve.classList.add("open");
      } else {
        valve.classList.remove("open");
        valve.classList.add("closed");
      }
    }

    function togglePump() {
      pumpOn = !pumpOn;
      document.getElementById("pumpState").innerText = pumpOn ? "ON" : "OFF";
    }

    function resetValves() {
      for (let i = 1; i <= 4; i++) {
        document.getElementById("from" + i).classList.remove("open");
        document.getElementById("from" + i).classList.add("closed");
        document.getElementById("to" + i).classList.remove("open");
        document.getElementById("to" + i).classList.add("closed");
      }
      pumpOn = false;
      document.getElementById("pumpState").innerText = "OFF";
    }
  
      const flowLine = document.getElementById("flow_" + id);
      if (flowLine) {
        flowLine.classList.toggle("flow-active", valve.classList.contains("open") && pumpOn);
      }
</script>
</body>
</html>
