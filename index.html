<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Interactive Pump Diagram</title>
  <style>
    .valve {
      cursor: pointer;
      transition: fill 0.3s;
    }
    .open { fill: green; }
    .closed { fill: red; }

    .flow-line {
      stroke: lightblue;
      stroke-width: 4;
      stroke-dasharray: 6;
      opacity: 0.2;
      transition: opacity 0.3s;
    }
    .flow-active { opacity: 1; }
    .label {
      font-size: 14px;
      text-anchor: middle;
    }
    .pipe, .manifold {
      stroke: #555;
      stroke-width: 8;
    }
    .pipe {
      stroke-width: 6;
    }
  </style>
</head>
<body>
  <h2 style="text-align: center;">Interactive Pump Diagram</h2>
  <div style="text-align:center;">
    <button onclick="togglePump()">Pump: <span id="pumpState">OFF</span></button>
    <button onclick="resetValves()">Reset Valves</button>
  </div>
  <svg width="800" height="400">
    <!-- Labels -->
    <text x="120" y="80">From Tanks</text>
    <text x="680" y="80">To Tanks</text>
    <text x="200" y="350">Suction</text>
    <text x="600" y="350">Return</text>

    <!-- Pump -->
    <circle id="pump" cx="400" cy="200" r="30" fill="gray"/>
    <text x="400" y="205" class="label" fill="white">Pump</text>

    <!-- Left Valves -->
    <rect id="from1" class="valve closed" x="140" y="100" width="30" height="30" onclick="toggleValve('from1')"/>
    <rect id="from2" class="valve closed" x="140" y="150" width="30" height="30" onclick="toggleValve('from2')"/>
    <rect id="from3" class="valve closed" x="140" y="200" width="30" height="30" onclick="toggleValve('from3')"/>
    <rect id="from4" class="valve closed" x="140" y="250" width="30" height="30" onclick="toggleValve('from4')"/>

    <!-- Right Valves -->
    <rect id="to1" class="valve closed" x="630" y="100" width="30" height="30" onclick="toggleValve('to1')"/>
    <rect id="to2" class="valve closed" x="630" y="150" width="30" height="30" onclick="toggleValve('to2')"/>
    <rect id="to3" class="valve closed" x="630" y="200" width="30" height="30" onclick="toggleValve('to3')"/>
    <rect id="to4" class="valve closed" x="630" y="250" width="30" height="30" onclick="toggleValve('to4')"/>

    <!-- Manifolds BETWEEN pump and valves -->
    <line x1="200" y1="115" x2="200" y2="265" class="manifold"/>
    <line x1="600" y1="115" x2="600" y2="265" class="manifold"/>

    <!-- Pipes from valves to manifold -->
    <line x1="170" y1="115" x2="200" y2="115" class="pipe"/>
    <line x1="170" y1="165" x2="200" y2="165" class="pipe"/>
    <line x1="170" y1="215" x2="200" y2="215" class="pipe"/>
    <line x1="170" y1="265" x2="200" y2="265" class="pipe"/>
    <line x1="630" y1="115" x2="600" y2="115" class="pipe"/>
    <line x1="630" y1="165" x2="600" y2="165" class="pipe"/>
    <line x1="630" y1="215" x2="600" y2="215" class="pipe"/>
    <line x1="630" y1="265" x2="600" y2="265" class="pipe"/>

    <!-- Pipes from manifold to pump -->
    <line x1="200" y1="190" x2="370" y2="200" class="pipe"/>
    <line x1="600" y1="190" x2="430" y2="200" class="pipe"/>
  </svg>

  <script>
    let pumpOn = false;

    function toggleValve(id) {
      const valve = document.getElementById(id);
      if (valve.classList.contains("closed")) {
        valve.classList.remove("closed");
        valve.classList.add("open");
      } else {
        valve.classList.remove("open");
        valve.classList.add("closed");
      }
    }

    function togglePump() {
      pumpOn = !pumpOn;
      document.getElementById("pumpState").innerText = pumpOn ? "ON" : "OFF";
    }

    function resetValves() {
      for (let i = 1; i <= 4; i++) {
        document.getElementById("from" + i).classList.remove("open");
        document.getElementById("from" + i).classList.add("closed");
        document.getElementById("to" + i).classList.remove("open");
        document.getElementById("to" + i).classList.add("closed");
      }
      pumpOn = false;
      document.getElementById("pumpState").innerText = "OFF";
    }
  </script>
</body>
</html>
